/* ==========================================================================
   Modern Grid System - Amphibious 2.0
   16-column responsive grid using CSS Grid and Flexbox
   No jQuery dependencies, uses modern CSS pseudo-classes
   ========================================================================== */

/* Grid Variables - 4px aligned
   ========================================================================== */

:root {
  --grid-columns: 16;
  --grid-gap: 20px; /* 5 × 4px = 20px (4px aligned) */
  --container-max-width: 1200px; /* 300 × 4px = 1200px (4px aligned) */
  --container-padding: 20px; /* 5 × 4px = 20px (4px aligned) */
}

/* Container
   ========================================================================== */

.container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 1rem; /* 16px base padding */
  width: 100%;
  box-sizing: border-box;
}

/* Special alignment for content that should align with navigation text */
.container.align-with-nav {
  padding-left: 2rem; /* 32px = 16px container + 16px nav item padding */
}

.container-fluid {
  width: 96%;
  max-width: none;
  margin: 0 auto;
  padding: 0 2%;
}

/* Modern CSS Grid Implementation
   ========================================================================== */

.grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns), 1fr);
  gap: var(--grid-gap);
  margin-bottom: var(--grid-gap);
}

/* Column spans for CSS Grid */
.span-1 {
  grid-column: span 1;
}
.span-2 {
  grid-column: span 2;
}
.span-3 {
  grid-column: span 3;
}
.span-4 {
  grid-column: span 4;
}
.span-5 {
  grid-column: span 5;
}
.span-6 {
  grid-column: span 6;
}
.span-7 {
  grid-column: span 7;
}
.span-8 {
  grid-column: span 8;
}
.span-9 {
  grid-column: span 9;
}
.span-10 {
  grid-column: span 10;
}
.span-11 {
  grid-column: span 11;
}
.span-12 {
  grid-column: span 12;
}
.span-13 {
  grid-column: span 13;
}
.span-14 {
  grid-column: span 14;
}
.span-15 {
  grid-column: span 15;
}
.span-16 {
  grid-column: span 16;
}

/* Flexbox Row Implementation (Backward Compatible)
   ========================================================================== */

.row {
  display: flex;
  flex-wrap: wrap;
  margin-left: calc(var(--grid-gap) / -2);
  margin-right: calc(var(--grid-gap) / -2);
  margin-bottom: var(--grid-gap);
}

/* Ensure nested rows also display as flex */
[class*="col-"] .row {
  margin-left: calc(var(--grid-gap) / -2);
  margin-right: calc(var(--grid-gap) / -2);
  display: flex;
  flex-wrap: wrap;
}

.row::after {
  content: "";
  display: table;
  clear: both;
}

/* Column system for flexbox rows */
[class*="col-"] {
  box-sizing: border-box;
  padding-left: calc(var(--grid-gap) / 2);
  padding-right: calc(var(--grid-gap) / 2);
  /* Remove float - we're using flexbox! */
}

/* Ensure all direct children of rows have proper flex defaults */
.row > * {
  flex-shrink: 0; /* Prevent shrinking below specified size */
}

/* But columns that don't have explicit col- classes should expand */
.row > div:not([class*="col-"]) {
  flex: 1 1 auto;
}

/* 16-column widths - using flexbox */
.col-1 {
  width: auto;
  flex: 0 0 6.25%;
  max-width: 6.25%;
}
.col-2 {
  width: auto;
  flex: 0 0 12.5%;
  max-width: 12.5%;
}
.col-3 {
  width: auto;
  flex: 0 0 18.75%;
  max-width: 18.75%;
}
.col-4 {
  width: auto;
  flex: 0 0 25%;
  max-width: 25%;
}
.col-5 {
  width: auto;
  flex: 0 0 31.25%;
  max-width: 31.25%;
}
.col-6 {
  width: auto;
  flex: 0 0 37.5%;
  max-width: 37.5%;
}
.col-7 {
  width: auto;
  flex: 0 0 43.75%;
  max-width: 43.75%;
}
.col-8 {
  width: auto;
  flex: 0 0 50%;
  max-width: 50%;
}
.col-9 {
  width: auto;
  flex: 0 0 56.25%;
  max-width: 56.25%;
}
.col-10 {
  width: auto;
  flex: 0 0 62.5%;
  max-width: 62.5%;
}
.col-11 {
  width: auto;
  flex: 0 0 68.75%;
  max-width: 68.75%;
}
.col-12 {
  width: auto;
  flex: 0 0 75%;
  max-width: 75%;
}
.col-13 {
  width: auto;
  flex: 0 0 81.25%;
  max-width: 81.25%;
}
.col-14 {
  width: auto;
  flex: 0 0 87.5%;
  max-width: 87.5%;
}
.col-15 {
  width: auto;
  flex: 0 0 93.75%;
  max-width: 93.75%;
}
.col-16 {
  width: auto;
  flex: 0 0 100%;
  max-width: 100%;
}

/* Modern pseudo-class selectors (no jQuery needed)
   ========================================================================== */

/* Keep consistent padding for all columns */
/* Padding is handled by the column base styles */

/* For grid items, no padding adjustments needed due to gap */
.grid > * {
  min-width: 0; /* Prevent overflow */
}

/* Offset classes
   ========================================================================== */

.offset-1 {
  margin-left: 6.25%;
}
.offset-2 {
  margin-left: 12.5%;
}
.offset-3 {
  margin-left: 18.75%;
}
.offset-4 {
  margin-left: 25%;
}
.offset-5 {
  margin-left: 31.25%;
}
.offset-6 {
  margin-left: 37.5%;
}
.offset-7 {
  margin-left: 43.75%;
}
.offset-8 {
  margin-left: 50%;
}
.offset-9 {
  margin-left: 56.25%;
}
.offset-10 {
  margin-left: 62.5%;
}
.offset-11 {
  margin-left: 68.75%;
}
.offset-12 {
  margin-left: 75%;
}
.offset-13 {
  margin-left: 81.25%;
}
.offset-14 {
  margin-left: 87.5%;
}
.offset-15 {
  margin-left: 93.75%;
}

/* Push/Pull for source ordering
   ========================================================================== */

.push-1 {
  left: 6.25%;
  position: relative;
}
.push-2 {
  left: 12.5%;
  position: relative;
}
.push-3 {
  left: 18.75%;
  position: relative;
}
.push-4 {
  left: 25%;
  position: relative;
}
.push-5 {
  left: 31.25%;
  position: relative;
}
.push-6 {
  left: 37.5%;
  position: relative;
}
.push-7 {
  left: 43.75%;
  position: relative;
}
.push-8 {
  left: 50%;
  position: relative;
}

.pull-1 {
  right: 6.25%;
  position: relative;
}
.pull-2 {
  right: 12.5%;
  position: relative;
}
.pull-3 {
  right: 18.75%;
  position: relative;
}
.pull-4 {
  right: 25%;
  position: relative;
}
.pull-5 {
  right: 31.25%;
  position: relative;
}
.pull-6 {
  right: 37.5%;
  position: relative;
}
.pull-7 {
  right: 43.75%;
  position: relative;
}
.pull-8 {
  right: 50%;
  position: relative;
}

/* Responsive Breakpoints
   ========================================================================== */

/* Tablet (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  .container {
    max-width: 750px;
  }
  /* Regular column classes work on tablet, no need for tablet-specific classes */
}

/* Mobile (< 480px) - Only apply on actual mobile devices */
@media (max-width: 479px) {
  :root {
    --grid-columns: 1;
    --grid-gap: 10px;
  }

  .container {
    padding: 0 10px;
  }

  /* Stack all columns on mobile */
  .row {
    margin-left: 0;
    margin-right: 0;
  }

  [class*="col-"] {
    flex: 0 0 100%;
    max-width: 100%;
    width: 100%;
    padding-left: 0;
    padding-right: 0;
    margin-bottom: var(--grid-gap);
  }

  /* Remove margins from last child */
  [class*="col-"]:last-child {
    margin-bottom: 0;
  }

  /* Mobile-specific columns */
  .col-mobile-half {
    width: 50%;
  }
  .col-mobile-third {
    width: 33.333%;
  }
  .col-mobile-quarter {
    width: 25%;
  }

  /* Reset offsets on mobile */
  [class*="offset-"] {
    margin-left: 0;
  }

  /* Reset push/pull on mobile */
  [class*="push-"],
  [class*="pull-"] {
    position: static;
    left: auto;
    right: auto;
  }

  /* CSS Grid becomes single column */
  .grid {
    grid-template-columns: 1fr;
  }

  [class*="span-"] {
    grid-column: span 1;
  }
}

/* Utility Classes
   ========================================================================== */

.text-left {
  text-align: left;
}
.text-center {
  text-align: center;
}
.text-right {
  text-align: right;
}

.hide-mobile {
  display: none;
}
@media (min-width: 768px) {
  .hide-mobile {
    display: block;
  }
  .hide-desktop {
    display: none;
  }
}

.clearfix::after {
  content: "";
  display: table;
  clear: both;
}

/* Print Styles
   ========================================================================== */

@media print {
  .container {
    width: 100%;
    max-width: none;
  }

  .row,
  [class*="col-"] {
    page-break-inside: avoid;
  }
}
