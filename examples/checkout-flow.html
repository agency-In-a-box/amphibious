<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout Flow - Amphibious 2.0</title>
  <meta name="description" content="Complete e-commerce checkout flow with semantic HTML, forms, and step-by-step process">
  <style>
    /* Base Styles */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 1.6;
      color: #2c3e50;
      margin: 0;
      background: #f8f9fa;
    }

    /* Checkout Header */
    .checkout-header {
      background: white;
      border-bottom: 2px solid #dee2e6;
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    /* Progress Steps */
    .progress-steps {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
    }
    .progress-steps li {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #6c757d;
      font-weight: 500;
    }
    .progress-steps li.active {
      color: #ED8B00;
    }
    .progress-steps li.completed {
      color: #28a745;
    }
    .step-number {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      transition: all 0.3s;
    }
    .progress-steps li.active .step-number {
      background: #ED8B00;
      color: white;
    }
    .progress-steps li.completed .step-number {
      background: #28a745;
      color: white;
    }
    .step-connector {
      width: 60px;
      height: 2px;
      background: #dee2e6;
      margin: 0 -1rem;
    }
    .step-connector.completed {
      background: #28a745;
    }

    /* Form Styles */
    .checkout-form {
      background: white;
      border-radius: 8px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .checkout-form h2 {
      margin-top: 0;
      color: #2c3e50;
      border-bottom: 2px solid #f0f0f0;
      padding-bottom: 0.75rem;
    }
    fieldset {
      border: none;
      padding: 0;
      margin: 0 0 2rem 0;
    }
    legend {
      font-size: 1.25rem;
      font-weight: 600;
      color: #495057;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #dee2e6;
      width: 100%;
    }
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .form-group {
      margin-bottom: 1rem;
    }
    .form-group.full-width {
      grid-column: 1 / -1;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #495057;
    }
    label .required {
      color: #dc3545;
      margin-left: 0.25rem;
    }
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="number"],
    select,
    textarea {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ced4da;
      border-radius: 4px;
      font-size: 1rem;
      transition: border-color 0.15s;
    }
    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #ED8B00;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    input:invalid {
      border-color: #dc3545;
    }
    .form-help {
      font-size: 0.875rem;
      color: #6c757d;
      margin-top: 0.25rem;
    }
    .radio-group,
    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .radio-option,
    .checkbox-option {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      padding: 0.75rem;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .radio-option:hover,
    .checkbox-option:hover {
      border-color: #ED8B00;
      background: #f8f9fa;
    }
    .radio-option input,
    .checkbox-option input {
      margin-top: 0.25rem;
      cursor: pointer;
    }
    .radio-option.selected,
    .checkbox-option.selected {
      border-color: #ED8B00;
      background: #f0f4ff;
    }

    /* Order Summary Aside */
    .order-summary {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      position: sticky;
      top: 100px;
    }
    .order-summary h3 {
      margin-top: 0;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid #f0f0f0;
    }
    .order-items {
      list-style: none;
      padding: 0;
      margin: 1rem 0;
    }
    .order-item {
      display: flex;
      gap: 1rem;
      padding: 1rem 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .order-item img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 4px;
    }
    .order-item-details {
      flex: 1;
    }
    .order-item-name {
      font-weight: 500;
      margin-bottom: 0.25rem;
    }
    .order-item-meta {
      font-size: 0.875rem;
      color: #6c757d;
    }
    .order-item-price {
      font-weight: 600;
    }
    .order-totals {
      padding-top: 1rem;
    }
    .total-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    .total-row.total {
      font-size: 1.25rem;
      font-weight: 600;
      padding-top: 0.75rem;
      border-top: 2px solid #dee2e6;
      margin-top: 0.75rem;
    }

    /* Action Buttons */
    .form-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 2rem;
      border-top: 2px solid #f0f0f0;
    }
    .btn {
      padding: 0.875rem 2rem;
      border: none;
      border-radius: 4px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    .btn-primary {
      background: #ED8B00;
      color: white;
    }
    .btn-primary:hover {
      background: #c97400;
    }
    .btn-secondary {
      background: transparent;
      color: #ED8B00;
      border: 2px solid #ED8B00;
    }
    .btn-secondary:hover {
      background: #ED8B00;
      color: white;
    }
    .btn-link {
      background: transparent;
      color: #6c757d;
      border: none;
      padding: 0.875rem 0;
    }
    .btn-link:hover {
      color: #495057;
    }

    /* Secure Badge */
    .secure-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: #d4edda;
      color: #155724;
      border-radius: 4px;
      font-size: 0.875rem;
      margin-left: auto;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .form-row {
        grid-template-columns: 1fr;
      }
      .progress-steps {
        flex-direction: column;
        gap: 1rem;
      }
      .step-connector {
        display: none;
      }
      .form-actions {
        flex-direction: column;
        gap: 1rem;
      }
      .order-summary {
        position: static;
        margin-bottom: 2rem;
      }
    }
  </style>
    <!-- CSS loaded via JavaScript module -->
</head>
<body>
  <!-- Site Navigation -->
  <nav class="site-nav" aria-label="Main navigation">
    <div class="container">
      <button class="nav-toggle hide-desktop" aria-expanded="false" aria-controls="main-nav">
        <span class="nav-toggle-icon" aria-hidden="true"></span>
        <span class="sr-only">Toggle navigation</span>
      </button>

      <ul id="main-nav" class="horizontal branded">
        <li><a href="/" class="site-logo">Amphibious</a></li>
        <li><a href="/docs/foundation.html">Foundation</a>
          <ul>
            <li><a href="/docs/foundation.html#core">Core</a></li>
            <li><a href="/docs/foundation.html#grid">Semantic Grid</a></li>
            <li><a href="/docs/foundation.html#responsive_col">Responsive Columns</a></li>
            <li><a href="/docs/foundation.html#fluid_col">Fluid Columns</a></li>
            <li><a href="/docs/foundation.html#golden_section">Golden ratio grids</a></li>
            <li><a href="/docs/foundation.html#push_pull">Source Ordering</a></li>
            <li><a href="/docs/foundation.html#mediaQueries">Media Queries</a></li>
          </ul>
        </li>
        <li><a href="/docs/form.html">Form</a>
          <ul>
            <li><a href="/docs/form.html#typography">Typography</a></li>
            <li><a href="/docs/form.html#forms">Basic Forms</a></li>
            <li><a href="/docs/form.html#multi_forms">Multi Beside Forms</a></li>
            <li><a href="/docs/form.html#custom_checkbox_radios">Custom Checkboxes and Radios</a></li>
            <li><a href="/docs/form.html#append_prepend_icons">Prepend and Append Icons</a></li>
            <li><a href="/docs/form.html#datepicker_fields">Date Picker Fields</a></li>
            <li><a href="/docs/form.html#tables">Tables</a></li>
          </ul>
        </li>
        <li><a href="/docs/function.html">Function</a>
          <ul>
            <li><a href="/docs/function.html#navigation">Horizontal Nav</a></li>
            <li><a href="/docs/function.html#horizontal-nav">Horizontal Nav CSS</a></li>
            <li><a href="/docs/function.html#vertical-nav">Vertical Nav</a></li>
            <li><a href="/docs/function.html#breadcrumbs">Breadcrumbs</a></li>
            <li><a href="/docs/function.html#tabs">Tabs</a></li>
            <li><a href="/docs/function.html#pagination">Pagination nav</a></li>
          </ul>
        </li>
        <li><a href="/docs/features.html">Features</a>
          <ul>
            <li><a href="/docs/features.html#slideshows">Responsive Slide Shows</a></li>
            <li><a href="/docs/features.html#helpers">Layout Helpers</a></li>
            <li><a href="/docs/features.html#pears">Content Pea.rs</a></li>
            <li><a href="/docs/features.html#icons">Lucide Icons</a></li>
          </ul>
        </li>
        <li><a href="/examples/">Examples</a></li>
      </ul>
    </div>
  </nav>


  <!-- Checkout Header -->
  <header class="checkout-header">
    <div class="container">
      <nav aria-label="Checkout progress">
        <ol class="progress-steps">
          <li class="completed">
            <span class="step-number">
              <i data-lucide="check" class="icon--xs"></i>
            </span>
            <span>Cart</span>
          </li>
          <li class="step-connector completed"></li>
          <li class="active">
            <span class="step-number">2</span>
            <span>Shipping</span>
          </li>
          <li class="step-connector"></li>
          <li>
            <span class="step-number">3</span>
            <span>Payment</span>
          </li>
          <li class="step-connector"></li>
          <li>
            <span class="step-number">4</span>
            <span>Review</span>
          </li>
        </ol>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container" style="padding: 2rem 0;">
    <div class="row">
      <!-- Checkout Form -->
      <section class="col-10" aria-labelledby="checkout-heading">
        <h1 id="checkout-heading" class="sr-only">Checkout</h1>

        <form class="checkout-form" id="shippingForm">
          <h2>Shipping Information</h2>

          <fieldset>
            <legend>Contact Details</legend>
            <div class="form-row">
              <div class="form-group">
                <label for="email">
                  Email Address
                  <span class="required" aria-label="required">*</span>
                </label>
                <input type="email" id="email" name="email" required aria-required="true" placeholder="john@example.com">
                <span class="form-help">We'll send order confirmation here</span>
              </div>
              <div class="form-group">
                <label for="phone">
                  Phone Number
                  <span class="required" aria-label="required">*</span>
                </label>
                <input type="tel" id="phone" name="phone" required aria-required="true" placeholder="(555) 123-4567">
                <span class="form-help">For delivery updates</span>
              </div>
            </div>
          </fieldset>

          <fieldset>
            <legend>Shipping Address</legend>
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">
                  First Name
                  <span class="required" aria-label="required">*</span>
                </label>
                <input type="text" id="firstName" name="firstName" required aria-required="true">
              </div>
              <div class="form-group">
                <label for="lastName">
                  Last Name
                  <span class="required" aria-label="required">*</span>
                </label>
                <input type="text" id="lastName" name="lastName" required aria-required="true">
              </div>
            </div>

            <div class="form-group">
              <label for="address1">
                Street Address
                <span class="required" aria-label="required">*</span>
              </label>
              <input type="text" id="address1" name="address1" required aria-required="true" placeholder="123 Main Street">
            </div>

            <div class="form-group">
              <label for="address2">Apartment, Suite, etc. (optional)</label>
              <input type="text" id="address2" name="address2" placeholder="Apt 4B">
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="city">
                  City
                  <span class="required" aria-label="required">*</span>
                </label>
                <input type="text" id="city" name="city" required aria-required="true">
              </div>
              <div class="form-group">
                <label for="state">
                  State / Province
                  <span class="required" aria-label="required">*</span>
                </label>
                <select id="state" name="state" required aria-required="true">
                  <option value="">Select State</option>
                  <option value="CA">California</option>
                  <option value="NY">New York</option>
                  <option value="TX">Texas</option>
                  <option value="FL">Florida</option>
                  <!-- Add more states -->
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="zipCode">
                  ZIP / Postal Code
                  <span class="required" aria-label="required">*</span>
                </label>
                <input type="text" id="zipCode" name="zipCode" required aria-required="true" pattern="[0-9]{5}(-[0-9]{4})?" placeholder="12345">
              </div>
              <div class="form-group">
                <label for="country">
                  Country
                  <span class="required" aria-label="required">*</span>
                </label>
                <select id="country" name="country" required aria-required="true">
                  <option value="US" selected>United States</option>
                  <option value="CA">Canada</option>
                  <option value="MX">Mexico</option>
                  <!-- Add more countries -->
                </select>
              </div>
            </div>
          </fieldset>

          <fieldset>
            <legend>Shipping Method</legend>
            <div class="radio-group" role="radiogroup" aria-labelledby="shipping-method">
              <label class="radio-option">
                <input type="radio" name="shippingMethod" value="standard" checked>
                <div>
                  <strong>Standard Shipping</strong>
                  <div style="font-size: 0.875rem; color: #6c757d;">5-7 business days</div>
                </div>
                <div style="margin-left: auto;">
                  <strong>FREE</strong>
                </div>
              </label>

              <label class="radio-option">
                <input type="radio" name="shippingMethod" value="express">
                <div>
                  <strong>Express Shipping</strong>
                  <div style="font-size: 0.875rem; color: #6c757d;">2-3 business days</div>
                </div>
                <div style="margin-left: auto;">
                  <strong>$12.99</strong>
                </div>
              </label>

              <label class="radio-option">
                <input type="radio" name="shippingMethod" value="overnight">
                <div>
                  <strong>Overnight Shipping</strong>
                  <div style="font-size: 0.875rem; color: #6c757d;">Next business day</div>
                </div>
                <div style="margin-left: auto;">
                  <strong>$29.99</strong>
                </div>
              </label>
            </div>
          </fieldset>

          <fieldset>
            <legend>Additional Options</legend>
            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" name="giftWrap" value="yes">
                <div>
                  <strong>Gift Wrapping</strong>
                  <div style="font-size: 0.875rem; color: #6c757d;">Add festive gift wrap and a personalized message</div>
                </div>
                <div style="margin-left: auto;">
                  <strong>+$4.99</strong>
                </div>
              </label>

              <label class="checkbox-option">
                <input type="checkbox" name="insurance" value="yes">
                <div>
                  <strong>Shipping Insurance</strong>
                  <div style="font-size: 0.875rem; color: #6c757d;">Protect your package against loss or damage</div>
                </div>
                <div style="margin-left: auto;">
                  <strong>+$2.99</strong>
                </div>
              </label>
            </div>

            <div class="form-group" style="margin-top: 1rem;">
              <label for="notes">Delivery Instructions (optional)</label>
              <textarea id="notes" name="notes" rows="3" placeholder="Leave at front door, ring doorbell, etc."></textarea>
            </div>
          </fieldset>

          <div class="form-actions">
            <button type="button" class="btn-link" onclick="history.back()">
              <i data-lucide="arrow-left"></i>
              Return to Cart
            </button>
            <div style="display: flex; align-items: center; gap: 1rem;">
              <div class="secure-badge">
                <i data-lucide="lock" class="icon--xs"></i>
                Secure Checkout
              </div>
              <button type="submit" class="btn btn-primary">
                Continue to Payment
                <i data-lucide="arrow-right"></i>
              </button>
            </div>
          </div>
        </form>
      </section>

      <!-- Order Summary Aside -->
      <aside class="col-6" aria-labelledby="order-summary">
        <div class="order-summary">
          <h3 id="order-summary">Order Summary</h3>

          <ul class="order-items">
            <li class="order-item">
              <img src="https://placehold.co/60x60/667eea/ffffff?text=Item+1" alt="Premium Cotton T-Shirt" loading="lazy">
              <div class="order-item-details">
                <div class="order-item-name">Premium Cotton T-Shirt</div>
                <div class="order-item-meta">Size: M, Color: Black</div>
                <div class="order-item-meta">Qty: 2</div>
              </div>
              <div class="order-item-price">$79.98</div>
            </li>

            <li class="order-item">
              <img src="https://placehold.co/60x60/764ba2/ffffff?text=Item+2" alt="Slim Fit Jeans" loading="lazy">
              <div class="order-item-details">
                <div class="order-item-name">Slim Fit Jeans</div>
                <div class="order-item-meta">Size: 32, Color: Blue</div>
                <div class="order-item-meta">Qty: 1</div>
              </div>
              <div class="order-item-price">$89.99</div>
            </li>

            <li class="order-item">
              <img src="https://placehold.co/60x60/f59e0b/ffffff?text=Item+3" alt="Canvas Sneakers" loading="lazy">
              <div class="order-item-details">
                <div class="order-item-name">Canvas Sneakers</div>
                <div class="order-item-meta">Size: 10, Color: White</div>
                <div class="order-item-meta">Qty: 1</div>
              </div>
              <div class="order-item-price">$49.99</div>
            </li>
          </ul>

          <div class="order-totals">
            <div class="total-row">
              <span>Subtotal</span>
              <span>$219.96</span>
            </div>
            <div class="total-row">
              <span>Shipping</span>
              <span id="shippingCost">FREE</span>
            </div>
            <div class="total-row">
              <span>Tax</span>
              <span>$18.70</span>
            </div>
            <div class="total-row">
              <span>Discount</span>
              <span style="color: #28a745;">-$20.00</span>
            </div>
            <div class="total-row total">
              <span>Total</span>
              <span id="orderTotal">$218.66</span>
            </div>
          </div>

          <div style="margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-radius: 4px;">
            <h4 style="margin: 0 0 0.5rem 0; font-size: 0.875rem;">Have a promo code?</h4>
            <div style="display: flex; gap: 0.5rem;">
              <input type="text" placeholder="Enter code" style="flex: 1; padding: 0.5rem; border: 1px solid #dee2e6; border-radius: 4px;">
              <button class="btn btn-secondary" style="padding: 0.5rem 1rem;">Apply</button>
            </div>
          </div>

          <div style="margin-top: 1.5rem;">
            <h4 style="font-size: 0.875rem; margin-bottom: 0.75rem;">We Accept</h4>
            <div style="display: flex; gap: 0.5rem;">
              <img src="https://placehold.co/40x25/ffffff/6c757d?text=Visa" alt="Visa" style="height: 25px;" loading="lazy">
              <img src="https://placehold.co/40x25/ffffff/6c757d?text=MC" alt="Mastercard" style="height: 25px;" loading="lazy">
              <img src="https://placehold.co/40x25/ffffff/6c757d?text=Amex" alt="American Express" style="height: 25px;" loading="lazy">
              <img src="https://placehold.co/40x25/ffffff/6c757d?text=PP" alt="PayPal" style="height: 25px;" loading="lazy">
            </div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <!-- Load Framework -->
  <script type="module" src="/src/index.js"></script>

  <!-- Page Scripts -->
  <script>
    // Handle form submission
    document.getElementById('shippingForm').addEventListener('submit', function(e) {
      e.preventDefault();

      // Validate form
      if (this.checkValidity()) {
        console.log('Form is valid, proceeding to payment...');
        // In a real app, this would save data and move to next step
        alert('Moving to payment step (demo)');
      } else {
        // Show validation errors
        this.reportValidity();
      }
    });

    // Update shipping cost based on selection
    document.querySelectorAll('input[name="shippingMethod"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const shippingCosts = {
          'standard': 'FREE',
          'express': '$12.99',
          'overnight': '$29.99'
        };

        const costElement = document.getElementById('shippingCost');
        const totalElement = document.getElementById('orderTotal');

        costElement.textContent = shippingCosts[this.value];

        // Update total (simplified for demo)
        let baseTotal = 218.66;
        if (this.value === 'express') baseTotal += 12.99;
        if (this.value === 'overnight') baseTotal += 29.99;

        totalElement.textContent = '$' + baseTotal.toFixed(2);
      });
    });

    // Style selected radio/checkbox options
    document.querySelectorAll('.radio-option input, .checkbox-option input').forEach(input => {
      input.addEventListener('change', function() {
        // For radio buttons, remove selected from all options in the group
        if (this.type === 'radio') {
          document.querySelectorAll(`input[name="${this.name}"]`).forEach(radio => {
            radio.closest('.radio-option').classList.remove('selected');
          });
        }

        // Toggle selected class
        if (this.checked) {
          this.closest('.radio-option, .checkbox-option').classList.add('selected');
        } else {
          this.closest('.radio-option, .checkbox-option').classList.remove('selected');
        }
      });
    });

    // Initialize selected states
    document.querySelectorAll('.radio-option input:checked, .checkbox-option input:checked').forEach(input => {
      input.closest('.radio-option, .checkbox-option').classList.add('selected');
    });

    // Phone number formatting
    document.getElementById('phone').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length >= 6) {
        value = `(${value.slice(0,3)}) ${value.slice(3,6)}-${value.slice(6,10)}`;
      } else if (value.length >= 3) {
        value = `(${value.slice(0,3)}) ${value.slice(3)}`;
      }
      e.target.value = value;
    });

    console.log('Checkout Flow Page Loaded');
  </script>
  <script type="module">
    import '../src/css/main.css';
    import amp from '../src/index.ts';
    // Amphibious auto-initializes when the module loads
  </script>
</body>
</html>