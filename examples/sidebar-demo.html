<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sidebar Navigation Demo - A.mphibio.us Framework</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../src/css/components/sidebar.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            background-color: #f9fafb;
        }

        /* App Layout */
        .app {
            display: flex;
            min-height: 100vh;
        }

        .app__header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 4rem;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .app__header--with-sidebar {
            left: 16rem;
        }

        .app__header--collapsed {
            left: 4rem;
        }

        .header__left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header__toggle {
            background: none;
            border: none;
            padding: 0.5rem;
            cursor: pointer;
            border-radius: 0.375rem;
            transition: background-color 0.2s;
        }

        .header__toggle:hover {
            background-color: #f3f4f6;
        }

        .header__title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin: 0;
        }

        .app__content {
            flex: 1;
            padding: 6rem 2rem 2rem 2rem;
            transition: all 0.3s ease;
            min-width: 0;
        }

        .app__content--with-sidebar {
            margin-left: 16rem;
        }

        .app__content--collapsed {
            margin-left: 4rem;
        }

        /* Demo Content Styles */
        .content-card {
            background: white;
            border-radius: 0.5rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .content-card h1 {
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .content-card h2 {
            color: #1f2937;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }

        .demo-controls {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .demo-button {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            background: white;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .demo-button:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .demo-button--primary {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .demo-button--primary:hover {
            background: #2563eb;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-card__number {
            font-size: 2rem;
            font-weight: 700;
            color: #3b82f6;
            display: block;
        }

        .stat-card__label {
            color: #6b7280;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .app__header--with-sidebar,
            .app__header--collapsed {
                left: 0;
            }

            .app__content--with-sidebar,
            .app__content--collapsed {
                margin-left: 0;
            }

            .app__content {
                padding: 6rem 1rem 2rem 1rem;
            }

            .content-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Sidebar Navigation -->
        <nav class="sidebar sidebar--static" id="main-sidebar">
            <!-- Sidebar Header -->
            <div class="sidebar__header">
                <a href="#" class="sidebar__brand">
                    <svg class="sidebar__logo" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 2L3 7v11h4v-6h6v6h4V7l-7-5z"/>
                    </svg>
                    <span class="sidebar__brand-text">Dashboard</span>
                </a>
                <button class="sidebar__toggle" aria-label="Toggle sidebar">
                    <svg class="sidebar__toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
            </div>

            <!-- Sidebar Body -->
            <div class="sidebar__body">
                <nav class="sidebar__nav">
                    <!-- Main Navigation Section -->
                    <div class="sidebar__section">
                        <div class="sidebar__section-title">Main</div>
                        <ul>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link sidebar__link--active">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                                    </svg>
                                    <span class="sidebar__text">Dashboard</span>
                                </a>
                            </li>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                                        <path fill-rule="evenodd" d="M4 5a2 2 0 012-2h8a2 2 0 012 2v6h-3a2 2 0 00-2 2v3H6a2 2 0 01-2-2V5z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="sidebar__text">Analytics</span>
                                </a>
                            </li>
                            <li class="sidebar__item sidebar__item--dropdown">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                                    </svg>
                                    <span class="sidebar__text">Users</span>
                                </a>
                                <ul class="sidebar__submenu">
                                    <li class="sidebar__item">
                                        <a href="#" class="sidebar__link">All Users</a>
                                    </li>
                                    <li class="sidebar__item">
                                        <a href="#" class="sidebar__link">Roles</a>
                                    </li>
                                    <li class="sidebar__item">
                                        <a href="#" class="sidebar__link">Permissions</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="sidebar__text">Orders</span>
                                    <span class="sidebar__badge">23</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- Content Section -->
                    <div class="sidebar__section">
                        <div class="sidebar__section-title">Content</div>
                        <ul>
                            <li class="sidebar__item sidebar__item--dropdown">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="sidebar__text">Posts</span>
                                </a>
                                <ul class="sidebar__submenu">
                                    <li class="sidebar__item">
                                        <a href="#" class="sidebar__link">All Posts</a>
                                    </li>
                                    <li class="sidebar__item">
                                        <a href="#" class="sidebar__link">Add New</a>
                                    </li>
                                    <li class="sidebar__item">
                                        <a href="#" class="sidebar__link">Categories</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="sidebar__text">Media</span>
                                </a>
                            </li>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
                                        <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"/>
                                    </svg>
                                    <span class="sidebar__text">Comments</span>
                                    <span class="sidebar__badge">5</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- Settings Section -->
                    <div class="sidebar__section">
                        <div class="sidebar__section-title">Settings</div>
                        <ul>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="sidebar__text">Settings</span>
                                </a>
                            </li>
                            <li class="sidebar__item">
                                <a href="#" class="sidebar__link">
                                    <svg class="sidebar__icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="sidebar__text">Help</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>

            <!-- Sidebar Footer -->
            <div class="sidebar__footer">
                <a href="#" class="sidebar__user">
                    <img src="https://picsum.photos/64/64?random=1" alt="User Avatar" class="sidebar__avatar">
                    <div class="sidebar__user-info">
                        <span class="sidebar__user-name">John Doe</span>
                        <span class="sidebar__user-role">Administrator</span>
                    </div>
                </a>
            </div>

            <!-- Mobile Overlay -->
            <div class="sidebar__overlay"></div>
        </nav>

        <!-- Main Content Area -->
        <div class="app__main">
            <!-- Header -->
            <header class="app__header app__header--with-sidebar" id="main-header">
                <div class="header__left">
                    <button class="header__toggle" data-sidebar-toggle aria-label="Toggle sidebar">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                    <h1 class="header__title">Dashboard Overview</h1>
                </div>
                <div class="header__right">
                    <button class="demo-button demo-button--primary">
                        User Menu
                    </button>
                </div>
            </header>

            <!-- Content -->
            <main class="app__content app__content--with-sidebar" id="main-content">
                <div class="content-card">
                    <h1>Sidebar Navigation Demo</h1>
                    <p>This demonstrates a modern, responsive sidebar navigation system perfect for admin panels and application interfaces.</p>
                    
                    <h2>Interactive Controls</h2>
                    <div class="demo-controls">
                        <button class="demo-button" onclick="toggleSidebar()">Toggle Sidebar</button>
                        <button class="demo-button" onclick="collapseSidebar()">Collapse Sidebar</button>
                        <button class="demo-button" onclick="expandSidebar()">Expand Sidebar</button>
                        <button class="demo-button" onclick="switchTheme()">Switch Theme</button>
                        <button class="demo-button" onclick="setActiveLink()">Set Active Link</button>
                    </div>

                    <h2>Features</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-card__number">üì±</span>
                            <span class="stat-card__label">Responsive Design</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-card__number">‚ôø</span>
                            <span class="stat-card__label">Fully Accessible</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-card__number">‚ö°</span>
                            <span class="stat-card__label">Smooth Animations</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-card__number">üé®</span>
                            <span class="stat-card__label">Themeable</span>
                        </div>
                    </div>

                    <h2>Usage Instructions</h2>
                    <ul>
                        <li><strong>Desktop:</strong> Click the collapse button (‚Üê) in the sidebar header to collapse/expand</li>
                        <li><strong>Mobile:</strong> Click the hamburger menu (‚ò∞) in the header to open/close</li>
                        <li><strong>Keyboard:</strong> Use Tab to navigate, Enter/Space to activate items</li>
                        <li><strong>Dropdowns:</strong> Click on "Users" or "Posts" to see submenu functionality</li>
                        <li><strong>Tooltips:</strong> Hover over icons when collapsed to see tooltips</li>
                    </ul>

                    <h2>Component States</h2>
                    <p><strong>Current State:</strong></p>
                    <ul>
                        <li>Sidebar: <span id="sidebar-state">Open</span></li>
                        <li>Collapsed: <span id="collapsed-state">No</span></li>
                        <li>Theme: <span id="theme-state">Dark</span></li>
                        <li>Screen Size: <span id="screen-size">Desktop</span></li>
                    </ul>

                    <h2>Sample Content</h2>
                    <p>This content area adjusts automatically when the sidebar is toggled or collapsed. The layout uses modern CSS techniques including flexbox and custom properties for smooth transitions.</p>
                    
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                    
                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>

                <!-- Additional content cards -->
                <div class="content-card">
                    <h2>Technical Details</h2>
                    <p><strong>CSS Features:</strong></p>
                    <ul>
                        <li>CSS Custom Properties for theming</li>
                        <li>Flexbox layout system</li>
                        <li>Smooth CSS transitions</li>
                        <li>Responsive breakpoints</li>
                        <li>Dark/light theme support</li>
                    </ul>
                    
                    <p><strong>JavaScript Features:</strong></p>
                    <ul>
                        <li>Event delegation for performance</li>
                        <li>Keyboard accessibility</li>
                        <li>Touch gesture support</li>
                        <li>Automatic mobile/desktop detection</li>
                        <li>Focus management</li>
                    </ul>
                </div>
            </main>
        </div>
    </div>

    <script src="../src/js/navigation.js"></script>
    <script>
        let sidebar;
        let isLightTheme = false;

        document.addEventListener('DOMContentLoaded', function() {
            // Get sidebar instance
            sidebar = document.getElementById('main-sidebar')._sidebar;
            
            // Update state display
            updateStateDisplay();
            
            // Listen to sidebar events
            sidebar.element.addEventListener('sidebarOpened', updateStateDisplay);
            sidebar.element.addEventListener('sidebarClosed', updateStateDisplay);
            sidebar.element.addEventListener('sidebarCollapsed', updateStateDisplay);
            sidebar.element.addEventListener('sidebarExpanded', updateStateDisplay);
            
            // Update header and content classes based on sidebar state
            const header = document.getElementById('main-header');
            const content = document.getElementById('main-content');
            
            sidebar.element.addEventListener('sidebarCollapsed', function() {
                header.classList.remove('app__header--with-sidebar');
                header.classList.add('app__header--collapsed');
                content.classList.remove('app__content--with-sidebar');
                content.classList.add('app__content--collapsed');
            });
            
            sidebar.element.addEventListener('sidebarExpanded', function() {
                header.classList.remove('app__header--collapsed');
                header.classList.add('app__header--with-sidebar');
                content.classList.remove('app__content--collapsed');
                content.classList.add('app__content--with-sidebar');
            });

            // Handle window resize for state display
            window.addEventListener('resize', updateStateDisplay);
        });

        function updateStateDisplay() {
            document.getElementById('sidebar-state').textContent = sidebar.isOpen ? 'Open' : 'Closed';
            document.getElementById('collapsed-state').textContent = sidebar.isCollapsed ? 'Yes' : 'No';
            document.getElementById('theme-state').textContent = isLightTheme ? 'Light' : 'Dark';
            document.getElementById('screen-size').textContent = window.innerWidth <= 768 ? 'Mobile' : 'Desktop';
        }

        function toggleSidebar() {
            sidebar.toggle();
        }

        function collapseSidebar() {
            sidebar.collapse();
        }

        function expandSidebar() {
            sidebar.expand();
        }

        function switchTheme() {
            isLightTheme = !isLightTheme;
            sidebar.element.classList.toggle('sidebar--light', isLightTheme);
            updateStateDisplay();
        }

        function setActiveLink() {
            // Cycle through different active links for demo
            const links = ['#', '#analytics', '#users', '#orders'];
            const currentActive = document.querySelector('.sidebar__link--active');
            const currentHref = currentActive.getAttribute('href');
            const currentIndex = links.indexOf(currentHref);
            const nextIndex = (currentIndex + 1) % links.length;
            
            sidebar.setActiveLink(links[nextIndex]);
        }

        // Demo: Add click handlers to show interaction
        document.querySelectorAll('.sidebar__link').forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.getAttribute('href') === '#') {
                    e.preventDefault();
                    console.log('Sidebar link clicked:', this.querySelector('.sidebar__text')?.textContent || 'Link');
                }
            });
        });
    </script>
</body>
</html>
