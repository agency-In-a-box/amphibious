<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#ffffff">
  <title>Dark Mode Demo - Amphibious 2.0</title>
  <link rel="stylesheet" href="/src/css/main.css">
  <style>
    .demo-section {
      padding: 48px 0;
      border-bottom: 1px solid var(--color-border, #eee);
    }

    .demo-section:last-child {
      border-bottom: none;
    }

    .theme-selector {
      display: flex;
      gap: 16px;
      margin: 32px 0;
    }

    .theme-card {
      flex: 1;
      padding: 24px;
      background: var(--color-surface, white);
      border: 2px solid var(--color-border, #dedede);
      border-radius: 12px;
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-apple-bounce);
      text-align: center;
    }

    .theme-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .theme-card.active {
      border-color: var(--color-primary, #ED8B00);
      box-shadow: 0 0 0 3px rgba(237, 139, 0, 0.15);
    }

    .theme-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .theme-name {
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--color-text, #333);
      margin-bottom: 8px;
    }

    .theme-desc {
      font-size: 0.875rem;
      color: var(--color-text-secondary, #666);
    }

    .component-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 32px;
      margin: 32px 0;
    }

    .component-card {
      background: var(--card-background, white);
      padding: 24px;
      border-radius: 12px;
      border: 1px solid var(--card-border, #dedede);
      box-shadow: var(--shadow-sm, 0 2px 4px rgba(0, 0, 0, 0.05));
    }

    .component-card h3 {
      margin-top: 0;
      margin-bottom: 16px;
      color: var(--color-text, #333);
    }

    .color-palette {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 16px;
      margin: 32px 0;
    }

    .color-swatch {
      height: 80px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      position: relative;
      overflow: hidden;
    }

    .color-label {
      background: rgba(255, 255, 255, 0.9);
      color: #000;
      padding: 4px 8px;
      border-radius: 4px;
      backdrop-filter: blur(10px);
    }

    .preview-section {
      padding: 32px;
      background: var(--color-surface, #fafafa);
      border-radius: 12px;
      margin: 32px 0;
    }

    .stats-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 24px;
      margin: 32px 0;
    }

    .stat-card {
      text-align: center;
      padding: 24px;
      background: var(--color-surface-elevated, white);
      border-radius: 12px;
      border: 1px solid var(--color-border, #dedede);
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--color-primary, #ED8B00);
      line-height: 1;
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 0.875rem;
      color: var(--color-text-secondary, #666);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .keyboard-shortcut {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      background: var(--color-surface-elevated, #f5f5f5);
      border: 1px solid var(--color-border, #dedede);
      border-radius: 4px;
      font-family: var(--font-family-monospace);
      font-size: 0.875rem;
      color: var(--color-text, #333);
    }

    .kbd {
      padding: 2px 4px;
      background: var(--color-surface, white);
      border: 1px solid var(--color-border-strong, #ccc);
      border-radius: 3px;
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
      font-weight: 600;
    }
  </style>
</head>
<body data-dark-mode-toggle>
  <div class="container">
    <!-- Hero Section -->
    <section class="demo-section">
      <h1 class="display-massive">Dark Mode</h1>
      <p class="lead">Professional dark theme with system-aware intelligence and manual override</p>
    </section>

    <!-- Theme Selector -->
    <section class="demo-section">
      <h2>Theme Selection</h2>
      <div class="theme-selector">
        <div class="theme-card" data-theme-option="system">
          <div class="theme-icon">üåì</div>
          <div class="theme-name">System</div>
          <div class="theme-desc">Follows OS preference</div>
        </div>
        <div class="theme-card" data-theme-option="light">
          <div class="theme-icon">‚òÄÔ∏è</div>
          <div class="theme-name">Light</div>
          <div class="theme-desc">Always light theme</div>
        </div>
        <div class="theme-card" data-theme-option="dark">
          <div class="theme-icon">üåô</div>
          <div class="theme-name">Dark</div>
          <div class="theme-desc">Always dark theme</div>
        </div>
      </div>

      <p>
        <strong>Keyboard shortcut:</strong>
        <span class="keyboard-shortcut">
          <kbd>‚åò</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd>
        </span>
        to toggle dark mode
      </p>
    </section>

    <!-- Color Palette -->
    <section class="demo-section">
      <h2>Dynamic Color System</h2>
      <p>Colors automatically adjust for optimal contrast and readability in dark mode.</p>

      <div class="color-palette">
        <div class="color-swatch" style="background: var(--color-primary);">
          <span class="color-label">Primary</span>
        </div>
        <div class="color-swatch" style="background: var(--apple-success);">
          <span class="color-label">Success</span>
        </div>
        <div class="color-swatch" style="background: var(--apple-warning);">
          <span class="color-label">Warning</span>
        </div>
        <div class="color-swatch" style="background: var(--apple-danger);">
          <span class="color-label">Danger</span>
        </div>
        <div class="color-swatch" style="background: var(--apple-info);">
          <span class="color-label">Info</span>
        </div>
        <div class="color-swatch" style="background: var(--color-surface);">
          <span class="color-label">Surface</span>
        </div>
        <div class="color-swatch" style="background: var(--color-surface-elevated);">
          <span class="color-label">Elevated</span>
        </div>
        <div class="color-swatch" style="background: var(--color-background); border: 1px solid var(--color-border);">
          <span class="color-label">Background</span>
        </div>
      </div>
    </section>

    <!-- Component Examples -->
    <section class="demo-section">
      <h2>Component Showcase</h2>

      <div class="component-grid">
        <!-- Buttons -->
        <div class="component-card">
          <h3>Buttons</h3>
          <div style="display: flex; gap: 8px; flex-wrap: wrap;">
            <button class="btn btn-primary">Primary</button>
            <button class="btn btn-secondary">Secondary</button>
            <button class="btn btn-success">Success</button>
            <button class="btn btn-danger">Danger</button>
            <button class="btn" disabled>Disabled</button>
          </div>
        </div>

        <!-- Forms -->
        <div class="component-card">
          <h3>Form Elements</h3>
          <form>
            <div style="margin-bottom: 16px;">
              <label for="input1">Text Input</label>
              <input type="text" id="input1" placeholder="Enter text...">
            </div>
            <div style="margin-bottom: 16px;">
              <label for="select1">Select</label>
              <select id="select1">
                <option>Option 1</option>
                <option>Option 2</option>
                <option>Option 3</option>
              </select>
            </div>
            <div>
              <label>
                <input type="checkbox"> Checkbox option
              </label>
            </div>
          </form>
        </div>

        <!-- Cards -->
        <div class="component-card">
          <h3>Card Component</h3>
          <p>Cards adapt their background and borders for perfect contrast in any theme.</p>
          <button class="btn btn-primary" style="width: 100%;">Action</button>
        </div>

        <!-- Alerts -->
        <div class="component-card">
          <h3>Alert Messages</h3>
          <div class="alert alert-success" style="margin-bottom: 8px;">Success message</div>
          <div class="alert alert-warning" style="margin-bottom: 8px;">Warning message</div>
          <div class="alert alert-danger" style="margin-bottom: 8px;">Error message</div>
          <div class="alert alert-info">Information message</div>
        </div>

        <!-- Badges -->
        <div class="component-card">
          <h3>Badges & Tags</h3>
          <div style="display: flex; gap: 8px; flex-wrap: wrap;">
            <span class="badge">Default</span>
            <span class="badge badge-primary">Primary</span>
            <span class="badge badge-success">Success</span>
            <span class="badge badge-warning">Warning</span>
            <span class="badge badge-danger">Danger</span>
            <span class="badge badge-info">Info</span>
          </div>
        </div>

        <!-- Navigation -->
        <div class="component-card">
          <h3>Navigation</h3>
          <nav class="nav" style="background: var(--color-surface); padding: 8px; border-radius: 8px;">
            <a href="#" class="nav-link active">Active</a>
            <a href="#" class="nav-link">Link</a>
            <a href="#" class="nav-link">Another</a>
            <a href="#" class="nav-link disabled">Disabled</a>
          </nav>
        </div>
      </div>
    </section>

    <!-- Tables -->
    <section class="demo-section">
      <h2>Data Display</h2>
      <div class="preview-section">
        <table class="table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Light Mode</th>
              <th>Dark Mode</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Background</td>
              <td>#FFFFFF</td>
              <td>#000000</td>
              <td><span class="badge badge-success">Optimized</span></td>
            </tr>
            <tr>
              <td>Text Color</td>
              <td>#333333</td>
              <td>#FFFFFF</td>
              <td><span class="badge badge-success">Optimized</span></td>
            </tr>
            <tr>
              <td>Primary Color</td>
              <td>#ED8B00</td>
              <td>#FF9500</td>
              <td><span class="badge badge-success">Optimized</span></td>
            </tr>
            <tr>
              <td>Border Color</td>
              <td>#DEDEDE</td>
              <td>#3A3A3C</td>
              <td><span class="badge badge-success">Optimized</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Features -->
    <section class="demo-section">
      <h2>Dark Mode Features</h2>

      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value">3</div>
          <div class="stat-label">Theme Modes</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">100%</div>
          <div class="stat-label">Coverage</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">AAA</div>
          <div class="stat-label">WCAG Rating</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">200ms</div>
          <div class="stat-label">Transition</div>
        </div>
      </div>

      <div class="component-grid">
        <div class="component-card">
          <h3>üé® Smart Color System</h3>
          <ul>
            <li>Automatic color inversion</li>
            <li>Optimized contrast ratios</li>
            <li>Preserved brand colors</li>
            <li>Reduced eye strain</li>
          </ul>
        </div>

        <div class="component-card">
          <h3>‚ö° Performance</h3>
          <ul>
            <li>CSS-only implementation</li>
            <li>Hardware accelerated</li>
            <li>Smooth transitions</li>
            <li>No layout shifts</li>
          </ul>
        </div>

        <div class="component-card">
          <h3>üîß Developer Features</h3>
          <ul>
            <li>CSS custom properties</li>
            <li>Media query support</li>
            <li>JavaScript API</li>
            <li>LocalStorage persistence</li>
          </ul>
        </div>

        <div class="component-card">
          <h3>‚ôø Accessibility</h3>
          <ul>
            <li>WCAG AAA compliant</li>
            <li>Focus indicators</li>
            <li>Keyboard shortcuts</li>
            <li>Screen reader support</li>
          </ul>
        </div>

        <div class="component-card">
          <h3>üì± Platform Support</h3>
          <ul>
            <li>System preference detection</li>
            <li>Mobile theme-color meta</li>
            <li>PWA manifest support</li>
            <li>Cross-browser compatible</li>
          </ul>
        </div>

        <div class="component-card">
          <h3>üéØ User Experience</h3>
          <ul>
            <li>Remembers preference</li>
            <li>Smooth animations</li>
            <li>No flash on load</li>
            <li>Manual override option</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Code Example -->
    <section class="demo-section">
      <h2>Implementation</h2>

      <div class="preview-section">
        <h3>Basic Usage</h3>
        <pre><code>&lt;!-- Auto-initialize with data attribute --&gt;
&lt;body data-dark-mode-toggle&gt;
  &lt;!-- Your content --&gt;
&lt;/body&gt;

&lt;!-- Include the script --&gt;
&lt;script src="/src/js/dark-mode-toggle.js"&gt;&lt;/script&gt;</code></pre>
      </div>

      <div class="preview-section" style="margin-top: 24px;">
        <h3>JavaScript API</h3>
        <pre><code>// Initialize manually
const darkMode = new DarkModeToggle({
  defaultTheme: 'system', // 'light', 'dark', 'system'
  showToggle: true,
  togglePosition: 'bottom-right',
  onChange: (state) => {
    console.log('Theme changed:', state);
  }
});

// API methods
darkMode.setTheme('dark');        // Set specific theme
darkMode.toggle();                 // Toggle between themes
darkMode.getTheme();              // Get current theme setting
darkMode.getEffectiveThemeValue(); // Get actual theme in use</code></pre>
      </div>

      <div class="preview-section" style="margin-top: 24px;">
        <h3>CSS Variables</h3>
        <pre><code>/* Use semantic color variables that adapt automatically */
.my-component {
  background: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}

/* Check current theme in CSS */
:root[data-theme="dark"] .my-component {
  /* Dark mode specific styles */
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .my-component {
    /* System dark mode styles */
  }
}</code></pre>
      </div>
    </section>

    <!-- Typography -->
    <section class="demo-section">
      <h2>Typography in Dark Mode</h2>
      <div class="preview-section">
        <h1>Heading Level 1</h1>
        <h2>Heading Level 2</h2>
        <h3>Heading Level 3</h3>
        <h4>Heading Level 4</h4>
        <h5>Heading Level 5</h5>
        <h6>Heading Level 6</h6>

        <p class="lead">This is a lead paragraph with larger text for emphasis. It adapts perfectly to dark mode with optimized contrast.</p>

        <p>Regular paragraph text with <a href="#">inline links</a>, <strong>bold text</strong>, <em>italic text</em>, and <code>inline code</code>. All typography elements are carefully tuned for readability in both light and dark themes.</p>

        <blockquote>
          <p>"Dark mode isn't just about inverting colors‚Äîit's about creating a cohesive, comfortable viewing experience that reduces eye strain while maintaining visual hierarchy and brand identity."</p>
        </blockquote>
      </div>
    </section>
  </div>

  <!-- Scripts -->
  <script src="/src/js/dark-mode-toggle.js"></script>
  <script>
    // Initialize dark mode toggle
    const darkMode = new DarkModeToggle({
      showToggle: true,
      onChange: (state) => {
        console.log('Theme changed:', state);
        updateThemeCards();
      }
    });

    // Update theme cards
    function updateThemeCards() {
      const currentTheme = darkMode.getTheme();
      document.querySelectorAll('.theme-card').forEach(card => {
        card.classList.toggle('active', card.dataset.themeOption === currentTheme);
      });
    }

    // Theme card click handlers
    document.querySelectorAll('.theme-card').forEach(card => {
      card.addEventListener('click', () => {
        const theme = card.dataset.themeOption;
        darkMode.setTheme(theme);
      });
    });

    // Initial update
    updateThemeCards();

    // Animate stats on scroll
    const observerOptions = {
      threshold: 0.5,
      rootMargin: '0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const statValues = entry.target.querySelectorAll('.stat-value');
          statValues.forEach(stat => {
            stat.style.animation = 'pulse 0.5s ease';
          });
        }
      });
    }, observerOptions);

    document.querySelectorAll('.stats-row').forEach(row => {
      observer.observe(row);
    });

    // Add pulse animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>